(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2880:(e,t,r)=>{Promise.resolve().then(r.bind(r,5964))},5964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(5155),l=r(2115);function c(e){let{addProductToArray:t}=e,[r,c]=(0,l.useState)(""),o=()=>{r.trim()&&(t(r.trim()),c(""))};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:r}),(0,n.jsx)("input",{type:"text",value:r,onChange:e=>c(e.currentTarget.value),onKeyDown:e=>"Enter"===e.key&&o()}),(0,n.jsx)("button",{type:"button",style:{backgroundColor:"darkgreen",border:"none"},onClick:o,children:"Dodaj"})]})}function o(e){let{name:t,removeProduct:r,isSelected:l,select:c,controls:o,price:d,updatePrice:i}=e;return(0,n.jsxs)("div",{children:[o&&(0,n.jsx)("button",{type:"button",onClick:r,children:"\uD83D\uDDD1️"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:l,onChange:c}),t]}),o?(0,n.jsx)("input",{type:"number",value:null!==d?d:"",onChange:i,style:{width:"4em"}}):null!=d&&(0,n.jsxs)("span",{children:[" ",d," zł"]})]})}function d(e){let{name:t,price:r}=e;return(0,n.jsx)("div",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox"}),t,null!==r&&(0,n.jsxs)("span",{children:[" ",r," zł"]})]})})}function i(){let[e,t]=(0,l.useState)([]),[r,i]=(0,l.useState)(0);(0,l.useEffect)(()=>{var e;let r=JSON.parse(null!=(e=localStorage.getItem("products"))?e:"[]");r.length&&(t(r.map(e=>{var t;return{...e,price:null!=(t=e.price)?t:null}})),i(Math.max(...r.map(e=>e.id))+1))},[]),(0,l.useEffect)(()=>{localStorage.setItem("products",JSON.stringify(e)),console.log(localStorage.getItem("products"))},[e]);let[a,s]=(0,l.useState)(!1);return(0,n.jsxs)("main",{children:[(0,n.jsx)("div",{children:(0,n.jsx)("h1",{children:"Lista"})}),(0,n.jsxs)("details",{open:!1,style:{backgroundColor:"#222",borderRadius:"1em",padding:".5em"},children:[(0,n.jsx)("summary",{children:"Globalna lista"}),e.map(r=>(0,n.jsx)(o,{name:r.name,removeProduct:()=>{let n;return n=r.id,t(e.filter(e=>e.id!=n))},isSelected:r.checked,select:()=>{let n;return n=r.id,t(e.map(e=>e.id!=n?e:{...e,checked:!e.checked}))},controls:a,price:r.price,updatePrice:n=>{var l,c;return l=r.id,c=n.target.value,void t(e.map(e=>e.id!=l?e:{...e,price:c?Number(c):null}))}},r.id)),(0,n.jsx)(c,{addProductToArray:n=>{t([...e,{id:r,name:n,checked:!1,price:null}]),i(r+1)}}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:"button",style:{backgroundColor:"darkred",border:"none"},onClick:()=>t([]),children:"Wyczyść"}),(0,n.jsx)("button",{type:"button",style:{backgroundColor:"darkcyan",border:"none"},onClick:()=>t(e.toSorted((e,t)=>e.name.localeCompare(t.name))),children:"Sortuj"})]}),(0,n.jsx)("button",{type:"button",style:{backgroundColor:"darkgray",border:"none"},onClick:()=>t(e.map(e=>({...e,checked:!1}))),children:"Odznacz"}),(0,n.jsx)("button",{type:"button",style:{backgroundColor:"darkorange",border:"none"},onClick:()=>s(!a),children:"Edytuj"})]}),e.filter(e=>e.checked).map(e=>(0,n.jsx)(d,{name:e.name,price:e.price},e.id)),e.filter(e=>e.checked).reduce((e,t)=>e+Number(t.price),0),"zł"]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=2880)),_N_E=e.O()}]);