(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2880:(e,t,n)=>{Promise.resolve().then(n.bind(n,5964))},5964:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5155),l=n(2115);function o(e){let{addProductToArray:t}=e,[n,o]=(0,l.useState)(""),c=()=>{n.trim()&&(t(n.trim()),o(""))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:n}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>o(e.currentTarget.value),onKeyDown:e=>"Enter"===e.key&&c()}),(0,r.jsx)("button",{type:"button",style:{backgroundColor:"darkgreen",border:"none"},onClick:c,children:"Dodaj"})]})}function c(e){let{name:t,removeProduct:n,isSelected:l,select:o,controls:c,price:d,updatePrice:i}=e;return(0,r.jsxs)("div",{children:[c&&(0,r.jsx)("button",{type:"button",onClick:n,children:"\uD83D\uDDD1️"}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:l,onChange:o}),t]}),c?(0,r.jsx)("input",{type:"number",value:null!==d?d:"",onChange:i,style:{width:"4em"}}):null!=d&&(0,r.jsxs)("span",{children:[" ",d," zł"]})]})}function d(e){let{name:t,price:n}=e;return(0,r.jsx)("div",{children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox"}),t,null!==n&&(0,r.jsxs)("span",{children:[" ",n," zł"]})]})})}function i(){let[e,t]=(0,l.useState)([]),[n,i]=(0,l.useState)(0);(0,l.useEffect)(()=>{var e;let n=JSON.parse(null!=(e=localStorage.getItem("products"))?e:"[]");n.length&&(t(n),i(Math.max(...n.map(e=>e.id))+1))},[]),(0,l.useEffect)(()=>{localStorage.setItem("products",JSON.stringify(e)),console.log(localStorage.getItem("products"))},[e]);let[a,s]=(0,l.useState)(!1);return(0,r.jsxs)("main",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"Lista"})}),(0,r.jsxs)("details",{open:!1,style:{backgroundColor:"#222",borderRadius:"1em",padding:".5em"},children:[(0,r.jsx)("summary",{children:"Globalna lista"}),e.map(n=>(0,r.jsx)(c,{name:n.name,removeProduct:()=>{let r;return r=n.id,t(e.filter(e=>e.id!=r))},isSelected:n.checked,select:()=>{let r;return r=n.id,t(e.map(e=>e.id!=r?e:{...e,checked:!e.checked}))},controls:a,price:n.price,updatePrice:r=>{var l,o;return l=n.id,o=r.target.value,void t(e.map(e=>e.id!=l?e:{...e,price:o?Number(o):null}))}},n.id)),(0,r.jsx)(o,{addProductToArray:r=>{t([...e,{id:n,name:r,checked:!1,price:null}]),i(n+1)}}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{type:"button",style:{backgroundColor:"darkred",border:"none"},onClick:()=>t([]),children:"Wyczyść"}),(0,r.jsx)("button",{type:"button",style:{backgroundColor:"darkcyan",border:"none"},onClick:()=>t(e.toSorted((e,t)=>e.name.localeCompare(t.name))),children:"Sortuj"})]}),(0,r.jsx)("button",{type:"button",style:{backgroundColor:"darkgray",border:"none"},onClick:()=>t(e.map(e=>({...e,checked:!1}))),children:"Odznacz"}),(0,r.jsx)("button",{type:"button",style:{backgroundColor:"darkorange",border:"none"},onClick:()=>s(!a),children:"Edytuj"})]}),e.filter(e=>e.checked).map(e=>(0,r.jsx)(d,{name:e.name,price:e.price},e.id)),e.filter(e=>e.checked).reduce((e,t)=>e+Number(t.price),0)," ","zł"]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=2880)),_N_E=e.O()}]);